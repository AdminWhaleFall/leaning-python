import requests
from fake_useragent import UserAgent
import random

url = "https://luolii555luluolii555luluolii555luluoli555luluolii555luollii5.luolii5luoll.top/portal.php?x=1271522"

ipList = ['178.63.239.228:3128', '104.129.194.86:8800', '104.129.192.196:8800', '221.182.31.54:8080', '104.129.192.197:8800', '104.129.192.43:8800', '60.191.11.251:3128', '104.129.194.189:8800', '104.129.192.34:8800', '58.220.95.79:10000', '104.129.198.116:8800', '104.129.192.75:8800', '104.129.200.116:8800','58.220.95.78:9401', '104.129.204.135:8800', '163.125.16.156:8888', '193.34.93.221:53805', '104.129.192.76:8800', '104.129.205.113:8800','175.42.123.214:9999', '205.185.116.235:8080', '104.129.204.86:8800', '104.129.200.84:8800', '104.129.194.132:8800', '104.129.200.75:8800','104.129.204.41:8800', '104.129.192.116:8800', '104.129.192.46:8800', '104.129.192.84:8800', '104.129.194.209:8800', '190.151.94.3:46615','104.129.194.179:8800', '103.121.149.46:3128', '58.220.95.54:9400', '104.129.204.114:8800', '104.129.194.75:8800', '221.122.91.59:80','104.129.205.32:8800', '218.66.253.144:80', '104.129.204.85:8800', '154.72.202.62:53281', '104.129.204.134:8800', '104.129.192.115:8800','221.122.91.64:9401', '104.129.205.103:8800', '104.129.205.38:8800', '221.122.91.61:80', '221.122.91.34:80', '104.129.192.114:8800', '104.129.200.38:8800', '104.129.192.74:8800', '104.129.204.115:8800', '104.129.196.74:8800']
i = 0
for ip in ipList:
    i = i + 1
    try:
        resp = requests.get(url, headers={"User-Agent": str(UserAgent().random)},
                            proxies={"https": "https://{}".format(ip)}, verify=False)
        print("第{}次请求".format(i), ip, resp)
    except Exception as e:
        print("请求错误", e)

    print("---------------------------------")
